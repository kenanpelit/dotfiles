###################
# GPU ve Donanım  #
###################
gpu-api=auto                    # Sistem için en uygun GPU API'sini otomatik seçer
vo=gpu                          # GPU tabanlı video çıkışı
hwdec=vaapi                     # Intel GPU'lar için optimum donanım hızlandırma
hwdec-codecs=all                # Tüm kodekler için donanım hızlandırma
gpu-context=wayland             # Wayland için native bağlam
hwdec-extra-frames=4            # Hardware decoding buffer (düşük değer)

###################
# Video Ayarları  #
###################
scale=bilinear                 # Hafif scaling
cscale=bilinear                # Hafif chroma scaling
dscale=bilinear                # Hafif downscaling
video-sync=audio               # Ses ile senkronizasyon
interpolation=no               # Interpolasyon kapalı
tscale=nearest                 # En hafif temporal scaling
framedrop=vo                   # Akıllı kare atlama
wayland-disable-vsync=yes      # VSync kapalı (daha düşük gecikme)
vulkan-async-transfer=yes      # Vulkan async transferler (daha iyi performans)
vulkan-async-compute=yes       # Vulkan async hesaplama
vd-lavc-skiploopfilter=nonkey  # Sadece anahtar karelerde loop filtre

#####################
# Buffer Ayarları   #
#####################
demuxer-max-bytes=100MiB       # Makul tampon boyutu
demuxer-max-back-bytes=50MiB   # Geri oynatma tamponu
demuxer-readahead-secs=20      # İleri okuma süresi
cache-secs=300                 # Önbellek süresi
cache-pause=yes                # Buffer boşsa duraklat
cache-pause-wait=2             # Kısa buffer bekleme süresi
cache-pause-initial=yes        # Başlangıçta buffer
stream-buffer-size=4k          # Küçük stream buffer

#########################
# Performans Ayarları   #
#########################
vd-lavc-threads=4             # Video çözme thread sayısı
vd-lavc-fast=yes              # Hızlı video çözme
video-latency-hacks=yes       # Gecikme optimizasyonları
opengl-early-flush=yes        # Erken GPU tamponu temizleme
gpu-dumb-mode=yes             # Basit GPU modu
vd-lavc-dr=yes                # Doğrudan bellek erişimi
profile=low-latency           # Düşük gecikme profili
reset-on-next-file=audio-delay,sub-delay,video-aspect-override # Dosya değişiminde sıfırlama

####################
# Player Ayarları  #
####################
input-ipc-server=/tmp/mpvsocket  # Harici kontrol soketi
hr-seek-framedrop=no            # Hassas aramada kare düşüşünü engelle
no-resume-playback             # Otomatik devam etme kapalı
border=no                      # Pencere kenarlıkları kapalı
msg-color=yes                  # Renkli terminal mesajları
msg-module=yes                 # Modül bilgileri
pause=yes                      # Başlangıçta duraklat
keep-open=yes                  # Video bitince kapatma
cursor-autohide=100           # İmleç gizleme
save-position-on-quit=yes     # Konum kaydetme
autofit=85%x85%              # Pencere boyutu
idle=once                    # Oynatma listesi bitince bekle
force-window=immediate       # Hızlı pencere oluşturma
input-default-bindings=yes   # Varsayılan kısayollar aktif
input-builtin-bindings=yes   # Dahili kısayollar aktif

##################
# OSD Ayarları   #
##################
osc=no                       # Varsayılan kontroller kapalı
osd-bar=yes                  # İlerleme çubuğu
osd-font-size=24
osd-border-size=1
osd-bar-align-y=1           # Altta göster
osd-bar-h=2                 # Kalın çubuk
osd-bar-w=60
osd-color='#CCFFFFFF'       # Yarı saydam beyaz
osd-border-color='#DD322640' # Koyu kenarlık
osd-duration=2000           # OSD mesaj süresi
osd-scale-by-window=no      # Pencere boyutuyla ölçekleme yok

#####################
# Altyazı Ayarları  #
#####################
sub-auto=fuzzy              # Esnek altyazı eşleştirme
sub-file-paths-append=ass   # Altyazı dizinleri
sub-file-paths-append=srt
sub-file-paths-append=sub
sub-font-size=40
sub-scale=1.0
sub-fix-timing=yes         # Zamanlama düzeltme
sub-ass-override=force     # SSA/ASS stil kontrolü
sub-ass-style-overrides=Kerning=yes  # Karakter aralığı düzeltme
sub-ass-use-video-data=all  # Video verisini kullan
sub-gauss=0.6              # Hafif gaussian blur (okunabilirlik için)

##################
# Ses Ayarları   #
##################
volume=100
volume-max=200
audio-channels=stereo       # Stereo çıkış
audio-pitch-correction=yes  # Hız değişiminde ses düzeltme
ao=pulse
audio-file-auto=fuzzy      # Esnek ses dosyası eşleştirme
audio-stream-silence=yes   # Ses akışı sessizlik doldurma
audio-fallback-to-null=yes # Ses problemi durumunda null çıkış

###################
# Dil Ayarları    #
###################
slang=tur,tr,eng,en        # Tercih edilen altyazı dilleri
alang=tur,tr,eng,en        # Tercih edilen ses dilleri
secondary-sid=2            # İkincil altyazı

######################
# YouTube Ayarları   #
######################
script-opts=ytdl_hook-ytdl_path=/usr/bin/yt-dlp
ytdl-raw-options=cookies-from-browser=firefox,yes-playlist=,write-thumbnail=,write-sub=,write-auto-sub=,sub-format=ass/ssa/srt/best,sub-lang="tur,tr,en,eng,en-US"

########################
# Protokol Profilleri  #
########################
[protocol.file]
cache=yes
demuxer-max-bytes=100MiB
force-seekable=yes         # Arama özelliğini zorla
force-window=immediate     # Anında pencere
network-timeout=0          # Yerel dosyalar için timeout yok

[protocol-network]
cache=yes
demuxer-max-bytes=100MiB
cache-pause=yes
network-timeout=5         # Ağ zaman aşımı
cache-pause-initial=yes   # Başlangıçta buffer
force-window=immediate    # Anında pencere
stream-lavf-o-append=reconnect_on_http_error=4xx,5xx # Bağlantı hatalarında yeniden deneme
stream-lavf-o-append=reconnect_delay_max=30          # Maksimum yeniden bağlanma gecikmesi
